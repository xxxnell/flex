<html><head><title>Flex: Experiments</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="flex contributors" /><meta name="description" content="Probabilistic deep learning library" /><meta name="og:image" content="/flex/img/poster.png" /><meta name="og:title" content="Flex: Experiments" /><meta name="og:site_name" content="Flex" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="Probabilistic deep learning library" /><link rel="icon" type="image/png" href="/flex/img/favicon.png" /><meta name="twitter:title" content="Flex: Experiments" /><meta name="twitter:image" content="img/poster.png" /><meta name="twitter:description" content="Probabilistic deep learning library" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:creator" content="@xxxnell" /><link rel="icon" type="image/png" sizes="16x16" href="/flex/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/flex/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/flex/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/flex/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/flex/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/flex/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/flex/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/flex/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/flex/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/flex/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/flex/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/flex/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/flex/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/flex/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/flex/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/flex/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/flex/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/flex/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/flex/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/flex/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/flex/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/flex/css/style.css" /><link rel="stylesheet" href="/flex/css/palette.css" /><link rel="stylesheet" href="/flex/css/codemirror.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/flex/" class="brand"><div class="brand-wrapper"><span>Flex</span></div></a></li>    <li><a href="/flex/experiments/" class=" active ">Experiments</a></li> <li><a href="/flex/experiments/parameters.html" class="">Performance on Parameters</a></li> <li><a href="/flex/experiments/benchmark.html" class="">Benchmark</a></li> <li><a href="/flex/experiments/accuracy.html" class="">Accuracy on Data Streams</a> <ul class="sub_section"> <li><a href="/flex/experiments/accuracyonstat.html" class="">Stationary Case</a></li> <li><a href="/flex/experiments/accuracyonnonstat.html" class="">Non-stationary Case</a></li></ul></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/xxxnell/flex"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/xxxnell/flex"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('Flex Probabilistic deep learning library');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('Flex Probabilistic deep learning library');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="xxxnell" data-github-repo="flex"><div class="content-wrapper"><section>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/javascript" charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/javascript" charset="utf-8" src="https://vincenttam.github.io/javascripts/MathJaxLocal.js">
</script>

<h1 id="experiments">Experiments</h1>

<p>We measure the computation time, memory usage, and accuracy of the <code class="highlighter-rouge">Sketch</code> for various types of stationary and non-stationary data streams. Subsequently, we compare these results with those of the existing density estimation algorithms such as <a href="https://github.com/soundcloud/spdt">SPDT</a> and <a href="https://github.com/joluet/okde-java">oKDE</a>. Here, oKDE is based on the kernel method implemented in Java and SPDT is based on a histogram implemented in Scala. The results show that <code class="highlighter-rouge">Sketch</code> requires less computation time than the alternatives for both stationary and non-stationary data stream and it also adapts better for a non-stationary data streams.</p>

<h2 id="computing-platform">Computing Platform</h2>

<p>We performed all experiments on the following
machine with 4-core Intel CPU i7-7700K @ 4.2 GHz and 16 GB memory. The
experiments run on a single thread.</p>

<h2 id="metrics">Metrics</h2>

<h3 id="throughput">Throughput</h3>

<p>We evaluate the computation times of <code class="highlighter-rouge">update</code> and <code class="highlighter-rouge">probability</code> operations of <code class="highlighter-rouge">Sketch</code> in million operations per second (Mops/s), which indicates the number of times per second our benchmark operation could be executed. There is a performance degradation in JVM in the first few iterations. To address this issue, we start to record its throughput after twenty warm-up phases. Subsequently, we record the arithmetic mean value of throughputs of the subsequent thirty measurement phases to minimize the accidental deviation.</p>

<h3 id="memory-usage">Memory Usage</h3>

<p>The PDF estimated using the density estimation algorithm continues to use memories. After the estimation, this result or its changing history is recorded in the disk if necessary. Therefore, we record only the memory usage of the estimated PDF, but not the whole memory usage consumed by the <code class="highlighter-rouge">update</code> or <code class="highlighter-rouge">probability</code> operation.</p>

<h3 id="statistical-distance">Statistical Distance</h3>

<p>We measure the discrepancy between the estimated PDF and the underlying distribution for a data stream. Although there are many matrices, we adopt average error.</p>

<h3 id="restoring-and-resistance-coefficients">Restoring and Resistance Coefficients</h3>

<p>We introduce <em>damped harmonic oscillator</em> model for unit mass to represent the characteristics of the density estimation algorithms when concept drift occurs.</p>

<script type="math/tex; mode=display">\ddot{D_\Delta} + \underbrace{c \cdot \dot{D_\Delta}}_{\text{Resistance term}} + \underbrace{k \cdot D_\Delta}_{\text{Restoring term}} = 0</script>

<p>where $D_\Delta$ is the statistical distance, $\dot{D_\Delta}$ and
$\ddot{D_\Delta}$ are the first- and second-order time derivatives of
$D_\Delta$ or <em>velocity</em> and <em>acceleration</em> of $D_\Delta$, respectively,
$c$ is the <em>resistance coefficient</em>, and $k$ is the <em>restoring
coefficient</em>.</p>

<p align="center">
<img src="/flex/img/diagrams/concepts/harmonic-oscillator.png" alt="infographic" style="max-width: 600px; width: 100%;" />
</p>

<p>This model is an <em>equation of motion</em> for an object subject to viscous <em>resistive force</em> (caused by the stability for outliers) and <em>restoring force</em> (caused by the <code class="highlighter-rouge">update</code> operation) following <em>Hookeâ€™s law</em> in a space of $D_\Delta$. For simplicity, we linearly approximate the restoring force for the distance and the resistive force for the velocity in first-order. We select the coefficients so that the harmonic oscillator model has the best fit to the measured $D_\Delta$. The higher the selected $k$, the better the estimated PDF adapts to the data stream with concept drift. The higher the selected $c$, the slower the estimated PDF adapts to the data stream with concept drift and the more stable the estimated PDF when an outlier occurs.</p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/flex/highlight/highlight.pack.js"></script><script>hljs.configure({languages:['scala','java','bash']});
hljs.initHighlighting();
              </script><script src="/flex/js/main.js"></script></body></html>