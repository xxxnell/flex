<html><head><title>flex: Non-stationary Case</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="flex contributors" /><meta name="description" content="Fast and lightweight probability tools for a dataset and a data stream" /><meta name="og:image" content="/flex/img/poster.png" /><meta name="og:title" content="flex: Non-stationary Case" /><meta name="og:site_name" content="flex" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="Fast and lightweight probability tools for a dataset and a data stream" /><link rel="icon" type="image/png" href="/flex/img/favicon.png" /><meta name="twitter:title" content="flex: Non-stationary Case" /><meta name="twitter:image" content="img/poster.png" /><meta name="twitter:description" content="Fast and lightweight probability tools for a dataset and a data stream" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:creator" content="@xxxnell" /><link rel="icon" type="image/png" sizes="16x16" href="/flex/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/flex/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/flex/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/flex/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/flex/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/flex/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/flex/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/flex/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/flex/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/flex/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/flex/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/flex/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/flex/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/flex/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/flex/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/flex/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/flex/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/flex/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/flex/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/flex/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/flex/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/flex/css/style.css" /><link rel="stylesheet" href="/flex/css/palette.css" /><link rel="stylesheet" href="/flex/css/codemirror.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/flex/" class="brand"><div class="brand-wrapper"><span>flex</span></div></a></li>    <li><a href="/flex/experiments/" class="">Experiments</a></li> <li><a href="/flex/experiments/parameters.html" class="">Performance on Parameters</a></li> <li><a href="/flex/experiments/benchmark.html" class="">Benchmark</a></li> <li><a href="/flex/experiments/accuracy.html" class="">Accuracy on Data Streams</a> <ul class="sub_section"> <li><a href="/flex/experiments/accuracyonstat.html" class="">Stationary Case</a></li> <li><a href="/flex/experiments/accuracyonnonstat.html" class=" active ">Non-stationary Case</a></li></ul></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/xxxnell/flex"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/xxxnell/flex"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('flex Fast and lightweight probability tools for a dataset and a data stream');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('flex Fast and lightweight probability tools for a dataset and a data stream');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="xxxnell" data-github-repo="flex"><div class="content-wrapper"><section>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/javascript" charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/javascript" charset="utf-8" src="https://vincenttam.github.io/javascripts/MathJaxLocal.js">
</script>

<h1 id="accuracy-on-non-stationary-data-streams">Accuracy on Non-stationary Data Streams</h1>

<p>We measured the statistical distance between the underlying distribution of various non-stationary data streams and the distributions estimated by using <code class="highlighter-rouge">Sketch</code> and its alternatives, oKDE and SPDTw. Furthermore, we analyze the change in the statistical distance by using the <a href="/flex/experiments/#restoring-and-resistance-coefficients">harmonic oscillator model</a>.</p>

<p>The data streams with three different concept drifts—<em>incremental concept drift</em>, <em>sudden concept drift</em>, and <em>blip concept drift</em>—are used in these experiments. First, we estimate the PDFs for data streams with incremental concept drift to test if the estimated PDFs adapt well to concept drifts. Second, we estimate the PDFs for data streams with sudden concept drift to test if the estimated PDFs forget previous concept quickly. Third, we estimate the PDFs for data streams with blip concept drift to provide an insight into the stability of the estimated PDF when outlier occurs.</p>

<h2 id="incremental-concept-drift">Incremental Concept Drift </h2>

<p>Incremental concept drift is defined as the case where the distribution of the data stream changes incrementally. The underlying distribution is a normal distribution whose mean value moves at a constant speed, i.e., $\mathcal{N}(x(t), 1)$ where</p>

<script type="math/tex; mode=display">% <![CDATA[
x(t) = 
	\begin{cases}
		0, & t \leq t_1 \\
		v_1 \cdot (t - t_1), & t > t_1 \\
	\end{cases} %]]></script>

<p>$t$ is the timestamp of data, $t_1 = 300$, and $v_1 = 0.01$.</p>

<p align="center">
<img src="/flex/img/experiments/incremental-cd-normal-pdf.gif" alt="infographic" style="max-width: 350px; width: 100%;" />
<img src="/flex/img/experiments/accuracy/incr-cd-dist.png" alt="infographic" style="max-width: 350px; width: 100%;" />
</p>

<p>Upper figures show how the statistical distance between the PDFs estimated using different algorithms and the underlying distribution of the data stream with incremental concept drift changes over time. The statistical distances of SPDTw and <code class="highlighter-rouge">Sketch</code> are saturated at 0.14 and 0.11, respectively, but that of oKDE is saturated at 0.58.</p>

<p>We use the <em>lag</em> as a metrics indicating how well the estimated PDF adapts to the data stream with incremental concept drift. A lag is defined as the ratio between the restoring coefficient and the resistance coefficient of <a href="/flex/experiments/#restoring-and-resistance-coefficients">harmonic oscillator model</a>, i.e., $c/k$. If incremental concept drift occurs at a constant speed, $\ddot{D_\Delta} = 0$ in <a href="/flex/experiments/#restoring-and-resistance-coefficients">harmonic oscillator model</a> for large $t$. In this case, the magnitudes of the restoring and resistance forces are the same—we refer to it as the <em>dynamic equilibrium</em> in the space of $D_\Delta$. Thus, the <em>lag</em> is represented as follows:</p>

<script type="math/tex; mode=display">\label{eq:ratiorr}
	\frac{c}{k} = \frac{D_\Delta}{\dot{D_\Delta}}</script>

<p>According to this equation, $c/k$ is directly proportional to $D_\Delta$ as $\dot{D_\Delta}$ is approximately constant. This is why we call $c/k$ the lag.</p>

<p align="center">
<img src="/flex/img/experiments/accuracy/incr-cd-coeff.png" alt="infographic" style="max-width: 350px; width: 100%;" />
</p>

<p>Upper diagram shows the <em>lag</em>s for various algorithms. The PDF estimated using <code class="highlighter-rouge">Sketch</code> is 5.3$\times$ and 1.2$\times$ better adapted to the data stream than that obtained using oKDE and SPDTw, respectively, when incremental concept drift occurs.</p>

<h2 id="sudden-concept-drift">Sudden Concept Drift</h2>

<p>Sudden concept drift is defined as the case where the distribution of the data stream changes suddenly. The underlying distribution is a normal distribution whose mean value moves suddenly, i.e., $\mathcal{N}(x(t), 1)$ where</p>

<script type="math/tex; mode=display">% <![CDATA[
x(t) = 
	\begin{cases}
		0, & t < t_1 \\
		x_1, & t \geq t_1 \\
	\end{cases} %]]></script>

<p>$t$ is the timestamp of data, $t_1 = 300$, and $x_1 = 5$.</p>

<p align="center">
<img src="/flex/img/experiments/sudden-cd-normal-pdf.gif" alt="infographic" style="max-width: 350px; width: 100%;" />
<img src="/flex/img/experiments/accuracy/sudden-cd-dist.png" alt="infographic" style="max-width: 350px; width: 100%;" />
</p>

<p>Upper figures show how the statistical distance between the PDFs estimated using different algorithms and the underlying distribution of the data stream with sudden concept drift changes over time.</p>

<p>The solution of the <a href="/flex/experiments/#restoring-and-resistance-coefficients">harmonic oscillator model</a> for $D_\Delta$, under the assumption of <em>over-damped oscillation</em>, i.e., $(c/2)^2 &gt; k$, is as follows:</p>

<script type="math/tex; mode=display">D_\Delta(t) = \underbrace{A_1 e^{-(\lambda + \omega) t}}_{\text{Short-lived term}} + \underbrace{A_2 e^{- (\lambda - \omega) t}}_{\text{Long-lived term}}</script>

<p>where $\lambda = c/2$ and $\omega = \sqrt{\lambda^2 - k}$. In the experiment for incremental concept drift, we obtain the $c/k$. By using this, we select $\lambda$ and $\omega$ so that this equation has the best fit to the figure of statistical distance for timestamp.</p>

<p>We can measure how quickly the estimated PDF can forget the previous concept in a short and long term through the changes in statistical distances: <em>half-life</em> and <em>lifetime</em>, respectively. The half-life is a metric indicating how fast the estimated PDF adapts to the data stream in the short term. It is the time required for a statistical distance at $t_1$ to reduce to half its initial value. The half-life is defined as followings:</p>

<script type="math/tex; mode=display">t_{1/2} = D_\Delta^{-1} \Big({1}/{2} \cdot D_\Delta(t_1) \Big)</script>

<p>The lifetime is a metric indicating how long the contribution of the past data stays. It is the time required for a <em>long-lived term</em> of $D_\Delta(t)$ to reduce to ${1}/{e}$ its initial value. The <em>lifetime</em> is defined as followings:</p>

<script type="math/tex; mode=display">\tau = (\lambda - \omega)^{-1}</script>

<p align="center">
<img src="/flex/img/experiments/accuracy/sudden-cd-coeff.png" alt="infographic" style="max-width: 350px; width: 100%;" />
</p>

<p>Upper figure shows the <em>half-live</em>s and <em>lifetime</em>s for each algorithms. The PDF estimated using <code class="highlighter-rouge">Sketch</code> is 0.066$\times$ and 0.78$\times$ better adapted to the data stream than that obtained using oKDE and SPDT, respectively when sudden concept drift occurs in the short term. Furthermore, the PDF estimated using <code class="highlighter-rouge">Sketch</code> is 5.2$\times$ and 1.1$\times$ better adapted to the data stream than that obtained using oKDE and SPDT, respectively, in the long term.</p>

<p>As shown in this experiment, oKDE adapts much faster than SPDTw and <code class="highlighter-rouge">Sketch</code> in the short term. However, oKDE adapts much slower than SPDTw and <code class="highlighter-rouge">Sketch</code> in the long term. Thus, we can conclude that oKDE produces unstable results and it is vulnerable to numerous concept drifts in the long term. Refer to the blip concept drift case for further discussions on outliers.</p>

<h2 id="blip-concept-drift">Blip Concept Drift</h2>

<p>Blip concept drift is defined as the case where the distribution of data stream suddenly changes and returns to the original state in a short time. The underlying distribution is a normal distribution whose mean value moves as follows, i.e., $\mathcal{N}(x(t), 1)$ where</p>

<script type="math/tex; mode=display">% <![CDATA[
x(t) = 
	\begin{cases}
		x_1, & t_1 < t \leq t_1 + t_\epsilon \\
		0, & \text{otherwise} \\
	\end{cases} %]]></script>

<p>$t_\epsilon$ is the duration of blip concept drift, $t_\epsilon = 3$, $x_1 = 5$, and $t_1 = 300$. Strictly, the blip concept drift is different from an outlier . However, the blip concept drift for a short period of time can be approximated to an outlier. Therefore, the behavior of the estimated PDF for blip concept drift over a short time can provide insight into the stability of the estimated PDF when an outlier occurs.</p>

<p align="center">
<img src="/flex/img/experiments/blip-cd-normal-pdf.gif" alt="infographic" style="max-width: 350px; width: 100%;" />
<img src="/flex/img/experiments/accuracy/blip-cd-dist.png" alt="infographic" style="max-width: 350px; width: 100%;" />
</p>

<p>Upper figures show how the statistical distance between the PDFs estimated using different algorithms and the underlying distribution of data stream (at the origin) with blip concept drift changes over time. In this figure, the statistical distance of <code class="highlighter-rouge">Sketch</code> and SPDTw is increased only by 0.0050 and 0.0021, respectively, during blip concept drift, but the statistical distance of oKDE is increased by 0.84.</p>

<p>We use the <em>volatility</em> as a metric that measures how fast the estimated PDF moves for a short duration when blip concept drift occurs. The volatility is <em>average velocity</em> during blip concept drift. The volatility is defined as follows:</p>

<script type="math/tex; mode=display">\sigma = \frac{D_\Delta(t_1 + t_\epsilon) - D_\Delta(t_1)}{t_\epsilon}</script>

<p>The lower the volatility, the more stable the estimated PDF, when
accidental outliers are included in the data stream.</p>

<p align="center">
<img src="/flex/img/experiments/accuracy/blip-cd-coeff.png" alt="infographic" style="max-width: 350px; width: 100%;" />
</p>

<p>Upper figure shows the volatility for each algorithms. The PDF estimated using <code class="highlighter-rouge">Sketch</code> is 390$\times$ and 2.3$\times$ more stable than that obtained using oKDE and SPDTw, respectively, when blip concept drift occurs.</p>

<p>In this experiment, the volatility of <code class="highlighter-rouge">Sketch</code> is far lower than that of oKDE. This result is compatible with the experiment for sudden concept drift that shows the half-life of oKDE is much greater than that of <code class="highlighter-rouge">Sketch</code>.</p>

</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/flex/highlight/highlight.pack.js"></script><script>hljs.configure({languages:['scala','java','bash']});
hljs.initHighlighting();
              </script><script src="/flex/js/main.js"></script></body></html>